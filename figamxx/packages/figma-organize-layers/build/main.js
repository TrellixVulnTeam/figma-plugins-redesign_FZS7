!function(n){var t={};function e(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return n[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=n,e.c=t,e.d=function(n,t,o){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:o})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)e.d(o,r,function(t){return n[t]}.bind(null,r));return o},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=24)}({13:function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));const o={combineSingleLayerGroups:!0,groupDefinition:1,horizontalSpace:100,verticalSpace:50}},15:function(n,t,e){"use strict";e.r(t),e.d(t,"on",(function(){return c})),e.d(t,"once",(function(){return u})),e.d(t,"emit",(function(){return a}));const o="undefined"==typeof window,r={};let i=0;function c(n,t){const e=""+i++;return r[e]={eventHandler:t,eventName:n},function(){delete r[e]}}function u(n,t){let e=!1;return c(n,(function(...n){!0!==e&&(e=!0,t(...n))}))}const a=!0===o?function(...n){figma.ui.postMessage(n)}:function(...n){window.parent.postMessage({pluginMessage:n},"*")};function f(n,t){for(const e in r)r[e].eventName===n&&r[e].eventHandler.apply(null,t)}!0===o?figma.ui.onmessage=function([n,...t]){f(n,t)}:window.onmessage=function(n){const[t,...e]=n.data.pluginMessage;f(t,e)}},18:function(n,t,e){"use strict";e.r(t);var o=e(41),r=e(15);var i=e(13);const c=/\//g;function u(n){let t=1;return n.forEach((function({name:n}){const e=n.match(c);null!==e&&(t=Math.max(t,e.length))})),t}function a(n,t,e){if(!0!==n.removed){if("children"in n&&("function"!=typeof e||!1===e(n)))for(const o of n.children)a(o,t,e);t(n)}}function f(n){let t=!1;return a(n,(function(n){"expanded"in n&&!0===n.expanded&&(n.expanded=!1,t=!0)})),t}var s=e(8);function l(n,t,e,o,r){const i=Object(s.a)(n,t,e);!function(n,t,e){let o=0;for(const r of n){let n=0,i=0;for(const{id:t}of r.layers){const r=figma.getNodeById(t);r.x=n,r.y=o,n=r.x+r.width+e,i=Math.max(i,r.height)}o+=i+t}}(i,o,r),function(n){const t=[];for(const e of n.slice().reverse())for(const n of e.layers.slice().reverse())t.push(n);!function(n){const t=n[0].parent;if(null===t)throw new Error("Node has no parent");if(!1===function(n){if(n.length<2)return!0;const[t,...e]=n;if(null===t.parent)return!1;const o=t.parent.id;for(const n of e)if(null===n.parent||n.parent.id!==o)return!1;return!0}(n))throw new Error("Nodes do not have the same parent");const e=n.slice(),o=t.children.map((function({id:n}){return n})),r=function(n,t){let e=-1;return n.forEach((function(n){const o=t.indexOf(n.id);o>e&&(e=o)})),e+1}(e,o);e.forEach((function(n){t.insertChild(r,n)})),function(n,t){if(n.length!==t.length)return!1;for(const e in n)if(n[e]!==t[e])return!1}(o,t.children.map((function({id:n}){return n})))}(t)}(i),function(n){for(const t of n)f(t)}(n)}var d=function(n,t,e,o){return new(e||(e=Promise))((function(r,i){function c(n){try{a(o.next(n))}catch(n){i(n)}}function u(n){try{a(o.throw(n))}catch(n){i(n)}}function a(n){var t;n.done?r(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(c,u)}a((o=o.apply(n,t||[])).next())}))};t.default=function(){return d(this,void 0,void 0,(function*(){const n=g();if(0===n.length)return void figma.closePlugin((t="No layers on page","✘   "+t));var t;const e=yield Object(o.a)(i.a);figma.on("selectionchange",(function(){const n=g();Object(r.emit)("SELECTION_CHANGED",{layers:n,maximumGroupDefinition:u(n)})})),Object(r.once)("SUBMIT",(function(n){return d(this,void 0,void 0,(function*(){yield Object(o.b)(n);const{combineSingleLayerGroups:t,groupDefinition:e,horizontalSpace:r,verticalSpace:i}=n,c=figma.currentPage.children.slice();var u,a,f;l(c,t,e,r,i),figma.viewport.scrollAndZoomIntoView(c),function(n,t,e){const o=(null==e?void 0:e.description)||"";n.setRelaunchData({[t]:o})}(figma.currentPage,"organizeLayers"),figma.closePlugin(function(n){return"✔   "+n}("Organized "+c.length+" "+(u=c.length,a="layer",(1===u?a:void 0===f?a+"s":f)+" on page")))}))})),Object(r.once)("CLOSE_UI",(function(){figma.closePlugin()})),function(n,t={}){if("undefined"==typeof __html__)throw new Error("No UI defined");const e='\n    <div id="create-figma-plugin"></div>\n    <script>\n      const __FIGMA_COMMAND__ = \''+figma.command+"';\n      const __SHOW_UI_DATA__ = "+JSON.stringify(t)+";\n      "+__html__+"\n    <\/script>\n  ";figma.showUI(e,n)}({height:361,width:240},Object.assign(Object.assign({},e),{layers:n,maximumGroupDefinition:u(n)}))}))};function g(){return function(n,t){const e=[];for(const o of n){const n={};for(const e of t){const t=o[e];n[e]=void 0===t||""===o[e]?null:t}e.push(n)}return e}(figma.currentPage.children.slice(),["id","name"])}},24:function(n,t,e){e(15);({"organize-layers/main--default":e(18).default,"reset-plugin/main--default":e(25).default,organizeLayers:e(18).default})[""===figma.command?"organize-layers/main--default":figma.command]()},25:function(n,t,e){"use strict";e.r(t);var o=e(41),r=e(13),i=function(n,t,e,o){return new(e||(e=Promise))((function(r,i){function c(n){try{a(o.next(n))}catch(n){i(n)}}function u(n){try{a(o.throw(n))}catch(n){i(n)}}function a(n){var t;n.done?r(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(c,u)}a((o=o.apply(n,t||[])).next())}))};t.default=function(){return i(this,void 0,void 0,(function*(){yield Object(o.b)(r.a),figma.closePlugin("Reset plugin")}))}},4:function(n,t){var e=function(n,t){var e,o,r=1,i=0,c=0,u=String.alphabet;function a(n,t,o){if(o){for(e=t;(o=a(n,e))<76&&o>65;)++e;return+n.slice(t-1,e)}return(o=u&&u.indexOf(n.charAt(t)))>-1?o+76:(o=n.charCodeAt(t)||0)<45||o>127?o:o<46?65:o<48?o-1:o<58?o+18:o<65?o-11:o<91?o+11:o<97?o-37:o<123?o+5:o-63}if((n+="")!=(t+=""))for(;r;)if(o=a(n,i++),r=a(t,c++),o<76&&r<76&&o>66&&r>66&&(o=a(n,i,i),r=a(t,c,i=e),c=e),o!=r)return o<r?-1:1;return 0};try{n.exports=e}catch(n){String.naturalCompare=e}},41:function(n,t,e){"use strict";e.d(t,"a",(function(){return r})),e.d(t,"b",(function(){return i}));const o="settings";async function r(n){const t=await figma.clientStorage.getAsync(o);return void 0===t?n:Object.assign(n,t)}async function i(n){await figma.clientStorage.setAsync(o,n)}},8:function(n,t,e){"use strict";e.d(t,"a",(function(){return u}));var o=e(4),r=e.n(o);function i(n,t){if("/"===n)return"/";const e=("/"===(o=n)[o.length-1]?o.substring(0,o.length-1):o).split(c);var o;return 1===e.length?n:e.length<=t?e.slice(0,e.length-1).join("/"):e.slice(0,t).join("/")}const c=/\//;function u(n,t,e){const o={};for(const t of(c=n,c.length<2?c.slice():c.slice().sort((function(n,t){const e=n.name.toLowerCase(),o=t.name.toLowerCase();if(e!==o)return r()(o,e);const i=t.y-n.y;if(0!==i)return i;const c=t.x-n.x;return 0!==c?c:r()(t.id,n.id)}))).reverse()){const n=i(t.name,e);void 0===o[n]&&(o[n]={groupName:n,layers:[]}),o[n].layers.push(t)}var c;if(!1===t||function(n){let t=0;for(const e in n){1===n[e].layers.length&&t++}return t}(o)<2)return Object.values(o);const u=[],a={groupName:null,layers:[]};for(const n in o){const t=o[n];1!==t.layers.length?u.push(t):a.layers.push(t.layers[0])}return[a,...u]}}});