"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.buildAsync = void 0;
const common_1 = require("@create-figma-plugin/common");
const build_bundle_async_1 = require("./build-bundle-async");
const build_manifest_async_1 = require("./build-manifest-async");
const build_scss_modules_typings_1 = require("./build-scss-modules-typings");
async function buildAsync(isDevelopment, exitOnError) {
    common_1.log.info('Building plugin...');
    const config = await common_1.readConfigAsync();
    try {
        await build_scss_modules_typings_1.buildScssModulesTypings();
        await build_bundle_async_1.buildBundleAsync(config, isDevelopment);
        await build_manifest_async_1.buildManifestAsync(config);
    }
    catch (error) {
        common_1.log.error(error);
        if (exitOnError === true) {
            process.exit(1);
        }
        return;
    }
    common_1.log.success('Done');
}
exports.buildAsync = buildAsync;
//# sourceMappingURL=build-async.js.map