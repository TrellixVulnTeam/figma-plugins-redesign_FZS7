"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.buildScssModulesTypings = void 0;
const common_1 = require("@create-figma-plugin/common");
const execa = require("execa");
const findUp = require("find-up");
const globby = require("globby");
const path = require("path");
async function buildScssModulesTypings() {
    const pattern = `${common_1.constants.src.directory}/**/*.{css,scss}`;
    const filePaths = await globby(pattern);
    if (filePaths.length === 0) {
        return;
    }
    const tsm = await findUp(path.join('node_modules', '.bin', 'tsm'));
    if (typeof tsm === 'undefined') {
        throw new Error('Cannot find `tsm`');
    }
    await execa(tsm, [
        pattern,
        '--nameFormat',
        'none',
        '--implementation',
        'sass',
        '--includePaths',
        'node_modules',
        '../../node_modules'
    ]);
}
exports.buildScssModulesTypings = buildScssModulesTypings;
//# sourceMappingURL=build-scss-modules-typings.js.map